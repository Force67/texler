# Texler Backend Environment Configuration

# Server Configuration
SERVER_HOST=0.0.0.0
SERVER_PORT=8080
SERVER_WORKERS=4
SERVER_MAX_CONNECTIONS=10000
SERVER_REQUEST_TIMEOUT=30
SERVER_KEEP_ALIVE=75

# Database Configuration
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=texler
DATABASE_USER=postgres
DATABASE_PASSWORD=your_password_here
DATABASE_MAX_CONNECTIONS=20
DATABASE_MIN_CONNECTIONS=5
DATABASE_CONNECT_TIMEOUT=30
DATABASE_IDLE_TIMEOUT=600

# Redis Configuration
REDIS_URL=redis://localhost:6379
REDIS_MAX_CONNECTIONS=10
REDIS_CONNECTION_TIMEOUT=5

# JWT Configuration
JWT_SECRET=your_super_secret_jwt_key_at_least_32_characters_long
JWT_EXPIRATION=86400
JWT_REFRESH_EXPIRATION=604800
JWT_ISSUER=texler

# OIDC Configuration
OIDC_ENABLED=true

# GitHub OAuth Provider
OIDC_PROVIDER_0_NAME=github
OIDC_PROVIDER_0_DISPLAY_NAME=GitHub
OIDC_PROVIDER_0_CLIENT_ID=your_github_client_id
OIDC_PROVIDER_0_CLIENT_SECRET=your_github_client_secret
OIDC_PROVIDER_0_ISSUER_URL=https://github.com
OIDC_PROVIDER_0_REDIRECT_URI=http://localhost:8080/api/v1/auth/oidc/callback
OIDC_PROVIDER_0_SCOPES=user:email

# Base URL for generating callbacks
BASE_URL=http://localhost:8080

# WebSocket Configuration
WEBSOCKET_PORT=8081
WEBSOCKET_MAX_CONNECTIONS=1000
WEBSOCKET_HEARTBEAT_INTERVAL=30
WEBSOCKET_MESSAGE_SIZE_LIMIT=65536

# LaTeX Compilation Configuration
LATEX_TIMEOUT=30000
LATEX_MEMORY_LIMIT=512
LATEX_OUTPUT_SIZE_LIMIT=10485760
LATEX_TEMP_DIR=/tmp/texler
LATEX_ENGINES=pdflatex,xelatex,lualatex
LATEX_DEFAULT_ENGINE=pdflatex

# Email Configuration (Optional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password
EMAIL_FROM_ADDRESS=noreply@texler.dev
EMAIL_FROM_NAME=Texler

# Feature Flags
FEATURE_WEBSOCKET=true
FEATURE_COLLABORATION=true
FEATURE_SEARCH=true
FEATURE_EMAIL=false
FEATURE_LATEX_COMPILATION=true
FEATURE_RATE_LIMITING=true
FEATURE_METRICS=false

# File Storage Configuration
FILE_STORAGE_TYPE=local
FILE_STORAGE_LOCAL_PATH=./uploads
# AWS_S3_BUCKET=your_s3_bucket
# AWS_REGION=us-west-2

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
# LOG_FILE=/var/log/texler/app.log